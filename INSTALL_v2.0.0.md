# TodoList v2.0.0 安装指南

## 📦 系统要求

- **操作系统**: Windows 10 或更高版本
- **内存**: 至少 4GB RAM
- **磁盘空间**: 至少 500MB 可用空间
- **网络**: 需要联网激活和同步数据

---

## 🚀 快速安装

### 方式一：全新安装

1. **下载安装包**
   ```
   文件名：TodoList Setup 2.0.0.exe
   位置：dist/ 目录下
   大小：约 200MB
   ```

2. **运行安装程序**
   - 双击 `TodoList Setup 2.0.0.exe`
   - 如果出现安全提示，点击"仍要运行"

3. **选择安装选项**
   - 选择安装路径（推荐使用默认路径）
   - 勾选"创建桌面快捷方式"
   - 点击"安装"

4. **完成安装**
   - 等待安装完成（约 1-2 分钟）
   - 点击"完成"并启动应用

5. **首次使用**
   - 登录或注册账号
   - 首次启动会从服务器加载数据并创建缓存
   - 后续启动将从缓存加载，速度飞快

---

### 方式二：从旧版本升级

如果您已安装 v1.0.3 或更早版本：

1. **直接安装新版本**
   - 无需卸载旧版本
   - 双击 `TodoList Setup 2.0.0.exe`
   - 安装程序会自动覆盖旧版本

2. **数据保留**
   - ✅ 所有云端数据自动保留
   - ✅ 本地设置自动保留
   - ✅ 首次启动会自动创建缓存

3. **验证升级**
   - 启动应用
   - 检查版本号（应显示 v2.0.0）
   - 验证数据完整性

---

## 🔧 安装位置

### 默认安装路径
```
C:\Users\{用户名}\AppData\Local\Programs\todolist\
```

### 数据和缓存路径
```
用户数据：%APPDATA%\electron-todolist\
缓存文件：%APPDATA%\electron-todolist\cache\
  - groups.json              # 分组数据缓存
  - todos-{groupId}.json     # 待办数据缓存
  - sync-state.json          # 同步状态
```

---

## ✅ 安装验证

安装完成后，请验证以下功能：

### 基本功能
- [ ] 应用能正常启动
- [ ] 能成功登录/注册
- [ ] 能看到云端数据
- [ ] 能创建新分组
- [ ] 能添加待办事项

### 性能验证
- [ ] 启动速度明显变快（< 100ms）
- [ ] 添加待办立即响应（< 50ms）
- [ ] 切换分组快速加载（< 50ms）

### 缓存验证
- [ ] 检查缓存目录是否创建
- [ ] 关闭应用后重新打开，应从缓存加载
- [ ] 多设备实时同步正常工作

---

## 🐛 常见问题

### 1. 安装时提示"未知发行者"
**原因**：应用未进行代码签名  
**解决**：点击"更多信息" → "仍要运行"

### 2. 首次启动较慢
**原因**：正在从服务器加载数据并创建缓存  
**解决**：等待加载完成，后续启动会很快

### 3. 缓存未生效
**检查步骤**：
1. 检查缓存目录是否存在：`%APPDATA%\electron-todolist\cache\`
2. 检查缓存文件是否有内容
3. 尝试重启应用

### 4. 数据不同步
**检查步骤**：
1. 确认网络连接正常
2. 检查 Supabase 服务状态
3. 查看开发者工具控制台日志

### 5. 升级后数据丢失
**不会发生**：数据存储在云端，升级不会影响  
**如果真的遇到**：
1. 检查网络连接
2. 重新登录账号
3. 数据会自动从服务器恢复

---

## 🔄 卸载指南

如果需要卸载应用：

### 方法一：通过控制面板
1. 打开"控制面板" → "程序和功能"
2. 找到"TodoList"
3. 右键 → "卸载"

### 方法二：通过安装程序
1. 找到安装目录
2. 运行 `Uninstall TodoList.exe`

### 清理数据（可选）
卸载后，如需清理所有数据：
```
删除目录：%APPDATA%\electron-todolist\
```
**注意**：删除后本地缓存会丢失，但云端数据仍然保留

---

## 📞 技术支持

### 查看日志
1. 启动应用
2. 按 `Ctrl + Shift + I` 打开开发者工具
3. 查看 Console 标签页的日志

### 查看缓存状态
在开发者工具 Console 中执行：
```javascript
cacheService.getCacheStats()
```

### 清空缓存
在开发者工具 Console 中执行：
```javascript
cacheService.clearAllCache()
```

---

## 🎉 安装完成

恭喜！您已成功安装 TodoList v2.0.0。

现在您可以：
- 🚀 享受极速响应的用户体验
- 💾 安心使用，数据自动云端同步
- 📱 多设备无缝切换
- ⚡ 离线查看已缓存的数据

**祝您使用愉快！**

---

**TodoList Team**  
2024-11-19

