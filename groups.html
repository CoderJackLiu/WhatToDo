<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TodoList - 分组管理</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- 自定义标题栏 -->
  <div class="titlebar">
    <div class="titlebar-drag-region">
      <span class="titlebar-title">TodoList</span>
    </div>
    <div class="titlebar-controls">
      <button class="titlebar-button settings" id="settings-btn" data-i18n-title="settings" title="设置">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <circle cx="6" cy="6" r="1.5" fill="currentColor"/>
          <path d="M6 2 L6 3.5 M6 8.5 L6 10 M2 6 L3.5 6 M8.5 6 L10 6" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round"/>
        </svg>
      </button>
      <button class="titlebar-button minimize" id="minimize-btn" data-i18n-title="minimize" title="最小化">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <rect x="0" y="5" width="12" height="2" fill="currentColor"/>
        </svg>
      </button>
      <button class="titlebar-button close" id="close-btn" data-i18n-title="close" title="关闭">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <path d="M1 1 L11 11 M11 1 L1 11" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- 设置菜单 -->
  <div class="settings-menu" id="settings-menu">
    <div class="settings-menu-header" data-i18n="settings.title">设置</div>
    <div class="settings-content">
      <!-- 用户信息 -->
      <div class="settings-item user-info-item">
        <div class="settings-item-label">
          <span id="user-email">加载中...</span>
        </div>
      </div>
      <div class="settings-item">
        <div class="settings-item-label">
          <span data-i18n="settings.themeMode">主题模式</span>
        </div>
        <div class="theme-mode-selector">
          <button class="theme-mode-btn active" data-theme="light" id="theme-light-btn">
            <span>☀️</span>
            <span data-i18n="settings.themeLight">浅色</span>
          </button>
          <button class="theme-mode-btn" data-theme="dark" id="theme-dark-btn">
            <span>🌙</span>
            <span data-i18n="settings.themeDark">深色</span>
          </button>
        </div>
      </div>
      <div class="settings-item">
        <div class="settings-item-label">
          <span data-i18n="settings.language">语言</span>
          <span class="settings-item-desc" data-i18n="settings.languageDesc">选择界面显示语言</span>
        </div>
        <div class="language-selector">
          <button class="language-btn active" data-lang="zh-CN" id="lang-zh-btn">
            <span>中文</span>
          </button>
          <button class="language-btn" data-lang="en-US" id="lang-en-btn">
            <span>English</span>
          </button>
        </div>
      </div>
      <div class="settings-item">
        <div class="settings-item-label">
          <span data-i18n="settings.autoStart">随系统启动</span>
          <span class="settings-item-desc" data-i18n="settings.autoStartDesc">应用将在系统启动时自动运行</span>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="auto-start-toggle">
          <span class="toggle-slider"></span>
        </label>
      </div>
      <div class="settings-item">
        <button class="btn-logout" id="logout-btn" data-i18n="settings.logout">退出登录</button>
      </div>
    </div>
  </div>

  <!-- 主内容区 -->
  <div class="container">
    <!-- 分组列表 -->
    <div class="todos-container">
      <ul id="group-list" class="todo-list group-list">
        <!-- 分组项将通过 JavaScript 动态生成 -->
      </ul>
    </div>

    <!-- 新建分组按钮 -->
    <div class="add-group-section">
      <button id="add-group-btn" class="add-group-btn" data-i18n-title="groups.newGroup" title="新建分组">
        <svg width="16" height="16" viewBox="0 0 16 16" style="margin-right: 6px;">
          <path d="M8 3 L8 13 M3 8 L13 8" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
        </svg>
        <span data-i18n="groups.newGroup">新建分组</span>
      </button>
    </div>

    <!-- 底部统计 -->
    <div class="footer">
      <span id="group-count" class="todo-count">0 个分组</span>
    </div>
  </div>

  <script src="i18n.js"></script>
  <script src="groups.js"></script>
</body>
</html>

